<!DOCTYPE html>
<html lang="en" >

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
<!--
    <link type="text/css" rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap-theme.min.css">
    <link type="text/css" rel="stylesheet" href="bower_components/font-awesome/css/font-awesome.min.css"> -->
    <script src="//code.jquery.com/jquery-1.11.3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.7.2/socket.io.js"></script>
    <script>
      var socket = io('/voting');

      socket.on('vote', function(msg){
        $('#messages-area').append($('<li>').text(JSON.stringify(msg)));
      });

      function sendFunction() {
        console.log('send function triggered');
        socket.emit('message', $('#new-message').val());
        $('#new-message').val('');
       }

       function sendJoin(){
         var roomId = $('#new-room').val();
         console.log('Calling send join roomId: '+roomId);
         socket.emit('join', {roomId: roomId});
       }

       function vote(){
         console.log('Calling send vote');
         var roomId = $('#new-room').val();
         socket.emit('vote', {roomId: roomId, vote: "chinaOne"});
       }
    </script>
</head>
<body >

    <!-- Header -->
    <nav class="navbar navbar-inverse">
        <div class="container">

        </div>
    </nav>

    <!-- Food Section -->
    <div class="container">

        <div class="jumbotron">
            <h1>Welcome Fatty!</h1>
        </div>
        <ul id="messages-area"></ul>
        <form id="form" onsubmit="return false;">
          <input id="new-message" type="text" /><button onclick="sendFunction()">Send</button>
          <input id="new-room" type="text" /><button onclick="sendJoin()">Join</button>
          <button onclick="vote()">Vote</button>

        </form>
    </div>

    <!-- Footer -->
    <div class="container">
        <a href="/voting-session/GRdf56">New Voting Booth</a>
    </div>

    <!-- JS imports  -->
</body>

</html>
